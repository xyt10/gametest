# 雷霆战机 - Thunder Fighter Pro Edition

一个使用纯JavaScript和HTML5 Canvas开发的专业级经典飞行射击游戏(STG)，具有现代化的视觉效果和优化的性能。

## 🌟 项目特色

### ✨ 核心功能
- **流畅的战机控制**: 支持键盘(方向键/WASD)和鼠标/触摸控制
- **智能敌机系统**: 8种不同类型的敌机，各有独特的AI和行为模式
- **强大的Boss战**: 多阶段Boss，4种攻击模式，华丽的弹幕效果
- **丰富的道具系统**: 5种道具效果，包括新增的僚机系统
- **完整的战机选择**: 5种不同类型的战机，各有特色
- **升级系统**: 经验值系统，提升玩家战斗力
- **粒子特效系统**: 丰富的视觉反馈和爆炸效果

### 🎨 视觉效果
- **动态星空背景**: 滚动的星空效果
- **渐变背景**: 深空主题的渐变色彩
- **发光效果**: 子弹、敌机、玩家的发光特效
- **粒子系统**: 爆炸、尾焰、拖尾等粒子效果
- **动画效果**: 标题动画、按钮悬停效果
- **现代UI设计**: 半透明HUD、渐变按钮、动态指示器

### 🚀 性能优化
- **FPS监控**: 实时帧率显示和性能监控
- **对象池**: 减少GC压力，提升性能
- **优化渲染**: 高效的Canvas绘制策略
- **响应式设计**: 自适应不同屏幕尺寸
- **内存管理**: 优化的对象生命周期管理

## 🎮 游戏操作

### 键盘控制
- **方向键** 或 **WASD**: 移动战机
- **空格键**: 射击
- **ESC**: 暂停/继续游戏

### 鼠标/触摸控制
- **移动鼠标/手指**: 战机跟随移动
- **点击/按住屏幕**: 自动射击
- **点击菜单**: 开始游戏

### 特殊控制
- **设备横屏**: 自动检测并提示竖屏模式
- **屏幕适配**: 自动调整Canvas显示尺寸

## 🛠️ 技术架构

### 核心组件
```
src/
├── Main.js                 # 游戏主入口，性能监控
├── config/
│   └── GameConfig.js      # 游戏配置文件
├── scenes/
│   └── GameScene.js       # 游戏主场景管理
├── entities/
│   ├── Player.js          # 玩家战机类
│   ├── Enemy.js           # 敌机类
│   ├── Boss.js            # Boss类
│   ├── Bullet.js          # 子弹类(多类型)
│   ├── Item.js            # 道具类
│   └── Wingman.js         # 僚机类
├── systems/
│   ├── EnemySpawner.js    # 敌机生成系统
│   ├── CollisionManager.js # 碰撞检测系统
│   ├── UpgradeSystem.js   # 升级系统
│   ├── AudioManager.js    # 音效管理
│   └── ParticleSystem.js  # 粒子系统
└── ui/
    ├── GameHUD.js         # 游戏HUD界面
    ├── MainMenu.js        # 主菜单
    └── ShipSelection.js   # 战机选择
```

### 设计模式
- **面向对象**: 清晰的类层次结构
- **组件化**: 可复用的游戏组件
- **单例模式**: 游戏管理系统
- **观察者模式**: 事件驱动的游戏状态

## ⚙️ 配置说明

所有游戏参数都在 `src/config/GameConfig.js` 中配置，支持实时调整：

### 战机类型
- **标准型**: 平衡的攻击与防御
- **突击型**: 高火力高射速
- **重型坦克**: 超高血量低速度
- **拦截机**: 极速移动散弹攻击
- **猎杀者**: 追踪导弹专精

### 子弹类型
- **普通弹**: 基础子弹
- **激光**: 高穿透激光
- **追踪导弹**: 自动追踪敌人
- **散弹**: 扇形散射
- **等离子炮**: 高伤害溅射

### 敌机类型
- **小型/中型/大型**: 基础敌机
- **快速型**: 高速之字形移动
- **狙击型**: 远程高伤害
- **坦克型**: 超高血量
- **神风**: 自撞击玩家
- **精英型**: 复杂AI行为

## 🔧 开发工具

### 启动游戏
```bash
# 项目目录
cd /home/xyt/gametest

# 方法一: 使用Python (推荐)
python3 -m http.server 8080

# 方法二: 使用Node.js
npm install -g http-server
http-server -p 8080

# 方法三: 使用PHP
php -S localhost:8080
```

### 访问游戏
在浏览器中访问: `http://localhost:8080`

## 📊 性能监控

游戏内置性能监控系统：
- **实时FPS显示**: 右上角显示当前帧率
- **性能警告**: FPS过低时控制台警告
- **帧时间监控**: 监控每帧渲染时间

## 🎯 游戏目标

1. **消灭敌机**: 获得分数和经验值
2. **收集道具**: 增强战机能力
3. **升级战机**: 提升属性变得更强
4. **击败Boss**: 获得大量分数和奖励
5. **收集僚机**: 获得额外的战斗支援
6. **挑战高分**: 尽可能存活更长时间

## 🎮 游戏技巧

1. **选择合适的战机**: 根据游戏风格选择战机类型
2. **善用道具**: 护盾和炸弹可以保命
3. **保持移动**: 不要停在原地，更容易躲避弹幕
4. **优先升级**: 尽快升级可以大幅提升实力
5. **Boss战策略**: 观察攻击模式，找到安全位置
6. **僚机配合**: 僚机自动攻击，注意走位

## 🔍 新增功能

### Pro Edition 特性
- **现代化UI设计**: 半透明效果、渐变、阴影
- **动态菜单动画**: 标题缩放、按钮悬停
- **增强的子弹效果**: 激光、导弹、等离子炮特效
- **粒子系统**: 爆炸、尾焰、拖尾效果
- **设备检测**: 自动检测设备方向
- **性能优化**: FPS监控、对象池、优化渲染

### 战机特性
- **升级系统**: 每级提升伤害、生命值、射速
- **僚机系统**: 不同类型的僚机支援
- **多种弹药**: 根据战机类型发射不同子弹

### 道具系统
| 图标 | 名称 | 效果 | 持续时间 | 颜色 |
|------|------|------|----------|------|
| HP | 生命恢复 | 恢复30点生命值 | - | 绿色 |
| PWR | 火力强化 | 伤害x2 | 5秒 | 红色 |
| SLD | 护盾 | 免疫伤害 | 8秒 | 青色 |
| BOMB | 炸弹 | 清屏范围伤害 | - | 黄色 |
| WINGMAN | 僚机 | 增加僚机 | 永久 | 紫色 |

## 📱 设备兼容性

### 推荐环境
- **浏览器**: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **屏幕**: 480x800 基准分辨率，自适应缩放
- **输入**: 键盘、鼠标、触摸屏

### 移动端优化
- **触摸控制**: 支持触摸屏操作
- **响应式**: 自动适应不同屏幕尺寸
- **方向检测**: 横屏检测和提示
- **性能优化**: 移动端渲染优化

## 🔧 自定义配置

### 修改难度
编辑 `src/config/GameConfig.js` 文件：
```javascript
SPAWN: {
    INITIAL_INTERVAL: 2000,      // 初始生成间隔
    MIN_INTERVAL: 500,           // 最小生成间隔
    DIFFICULTY_INCREASE: 0.95,   // 难度增加系数
}
```

### 添加新战机类型
在 `GameConfig.SHIP_TYPES` 中添加新的战机配置

### 自定义子弹效果
在 `Bullet.js` 的 `render*` 方法中添加自定义渲染效果

## 📈 性能优化建议

1. **减少粒子数量**: 在 `ParticleSystem.js` 中调整最大粒子数
2. **优化碰撞检测**: 调整碰撞检测的精度
3. **调整渲染质量**: 在 `GameScene.js` 中调整渲染细节
4. **使用对象池**: 在 `ObjectPool.js` 中配置对象池大小

## 🚀 部署建议

### 生产环境
- 使用HTTP服务器（如nginx）
- 启用gzip压缩
- 配置CDN加速
- 添加缓存策略

### 开发环境
- 使用热重载
- 启用开发者工具
- 监控性能指标
- 调试模式开关

## 🤝 贡献指南

欢迎贡献代码和建议！

### 开发规范
- 使用ES6+语法
- 遵循现有的代码风格
- 添加适当的注释
- 保持代码可读性

### 提交规范
- 格式: `git commit -m "类型: 描述"`
- 类型: feat, fix, docs, style, refactor, test
- 提供详细的变更说明

## 📝 更新日志

### v2.0 Pro Edition
- ✨ 全新现代化UI设计
- 🚀 性能监控和优化
- 🎨 增强的视觉效果
- 📱 改进的移动端支持
- 🔧 完善的错误处理
- 🎯 新增粒子系统
- 🛠️ 优化游戏循环

### v1.0
- 基础游戏功能
- 多种战机和子弹类型
- 完整的UI系统
- 道具系统
- Boss战斗

## 📞 支持

如有问题或建议，请：
1. 查看控制台错误信息
2. 检查浏览器兼容性
3. 尝试清除浏览器缓存
4. 检查网络连接

## 📄 许可证

本项目仅供学习交流使用。

---

**祝您游戏愉快！挑战最高分！** 🚀

**Thunder Fighter Pro Edition - 专业的HTML5射击游戏体验**